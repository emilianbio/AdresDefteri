<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<title>Adres Defteri</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<h:outputStylesheet library="css" name="bootstrap.css" />
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
</h:head>
<style>
.search_box {
	list-style-type: none;
	position: absolute;
	left: 30%;
	width: 40%;
	background-color: #fff;
	border-radius: 0 0 4px 4px;
	border-top: 1px solid #f4f4f4;
	z-index: 500;
	min-height: 10%;
	max-height: 50%;
	overflow-y: auto;
	top: 33px;
}

.li_class:hover {
	background-color: yellow !important;
}
</style>

<h:body>
	<div class="header">
		<div class="container-fluid">
			<div class="main">
				<div class="container">
					<div class="panel panel-info">
						<h:form>
							<div class="col-md-6 col-md-push-3">
								<h:inputText class="form-control" a:placeholder="Search"
									value="#{KisiController.kelime}">
									<f:ajax event="keyup" listener="#{KisiController.Ara()}"
										execute="@this" render="search-panel"></f:ajax>
								</h:inputText>
							</div>
							<div class="search_box">
								<h:panelGrid id="search-panel"  style="width:100%">
									<ul>
										<ui:repeat var="k" value="#{KisiController.aKisiler}">
											<li style="width: 100%;"><h:commandButton
													class="btn btn-default"
													style="width:100% ;
											  border:none; background:transparant;"
													value="#{KisiController.mix(k.ad,k.soyad)}" action="detay">
													<f:setPropertyActionListener value="#{k.id}"
														target="#{KisiController.k1.id}">
													</f:setPropertyActionListener>
												</h:commandButton></li>
										</ui:repeat>
									</ul>
								</h:panelGrid>
							</div>
						</h:form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="main_bg">
		<div class="wrap">
			<div class="main">
				<div class="container">
					<div class="row">
						<h:form target="#{KisiController.KisiListeleme()}">
							<div class="panel panel-info">
								<div class="panel-heading">Adres Defteri</div>
								<div class="panel-body">
									<h:dataTable class="table table-striped table-bordered"
										value="#{KisiController.kisiler}" var="kisi">
										<h:column>
											<h:commandButton class="btn btn-info" value="DETAY"
												action="detay">
												<f:setPropertyActionListener value="#{kisi.id}"
													target="#{KisiController.k1.id}">
												</f:setPropertyActionListener>
											</h:commandButton>
										</h:column>
										<h:column>
											<f:facet name="header">
												<h:outputLabel value="ADI"></h:outputLabel>
											</f:facet>#{kisi.ad}
									</h:column>
										<h:column>
											<f:facet name="header">
												<h:outputLabel value="SOYADI"></h:outputLabel>
											</f:facet>#{kisi.soyad}
									</h:column>
										<h:column>
											<f:facet name="header">
												<h:outputLabel value="E-MAIL"></h:outputLabel>
											</f:facet>#{kisi.e_posta}
									</h:column>
										<h:column>
											<f:facet name="header">
												<h:outputLabel value="ADRES"></h:outputLabel>
											</f:facet>#{kisi.adres}
									</h:column>
									</h:dataTable>
								</div>
							</div>
						</h:form>
					</div>
					<div class="row">
						<h:form>
							<div class="panel panel-info">
								<div class="panel-heading">Adres Defterine Kişi Ekle</div>
								<div class="panel-body">
									<h:panelGrid columns="3">
                                            Adı:<h:inputText id="ad"
											class="form-control alphaonly"
											requiredMessage="Adı boş bırakmayınız."
											value="#{KisiController.k.ad}" required="true">
										</h:inputText>
											<h:messages for="ad" errorClass="errorMessage"></h:messages>
                                            Soyadı:<h:inputText 
											id="soyad" class="form-control alphaonly"
											requiredMessage="Soyadı boş bırakmayınız."
											value="#{KisiController.k.soyad}" required="true">
										</h:inputText>
										<h:messages for="soyad" errorClass="errorMessage"></h:messages>
                                            E-mail:<h:inputText
											id="mail" class="form-control"
											requiredMessage="Mail adresini boş bırakmayınız."
											value="#{KisiController.k.e_posta}" required="true">
										</h:inputText>
										<h:messages for="mail" errorClass="errorMessage"></h:messages>
											Telefon:<h:inputText  
											 id="tel" class="form-control phone_us"
											maxlength="11" requiredMessage="Telefonu boş bırakmayınız."
											value="#{KisiController.i.telefon}" required="true">
										</h:inputText>
										<h:messages for="tel" errorClass="errorMessage"></h:messages>
                                            Adres:<h:inputTextarea
											id="adres" class="form-control"
											requiredMessage="Adresi boş bırakmayınız."
											value="#{KisiController.k.adres}" required="true">
										</h:inputTextarea>
										<h:messages for="adres" errorClass="errorMessage"></h:messages>

											&nbsp;<h:commandButton class="btn btn-warning pull-right"
											align="right" action="#{KisiController.KisiEkle()}"
											value="Kaydet">
										</h:commandButton>
									</h:panelGrid>
								</div>
							</div>
						</h:form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="resources/js/jquery-1.9.1.js"></script>
	<script src="resources/js/jquery-ui.js"></script>
	<script src="resources/js/bootstrap.min.js"></script>
	<script type="text/javascript"
		src="resources/input-mask/jquery.mask.min.js"></script>
	<script type="text/javascript" src="resources/input-mask/mask.js"></script>
</h:body>
</html>